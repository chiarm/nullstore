<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>The Nullstore - FAQ</title>
	<link rel="icon" type="svg+xml" href="Logo.svg">
    <link rel="stylesheet" href="style.css">
</head>
<body>
<script>
    // 1. Inicializar el carrito en el almacenamiento local del navegador
    let cart = JSON.parse(localStorage.getItem('cart')) || [];

    // Costante para el costo de envío (usada en checkout)
    const SHIPPING_COST = 5.00;

    // Función para guardar el carrito
    function saveCart() {
        localStorage.setItem('cart', JSON.stringify(cart));
    }

    // Función para actualizar el contador del carrito en el header
    function updateCartCount() {
        const cartBubbleSpan = document.querySelector('.cart-bubble span');
        // Usamos la cantidad de items individuales en el array para el contador
        cartBubbleSpan.textContent = `Carrito (${cart.length})`;
    }
    
    // Función para mostrar una notificación de éxito temporal
    function showNotification(productName, cardElement) {
        // Opción 1: Notificación al lado del botón (más visualmente enfocado)
        const notification = document.createElement('div');
        notification.classList.add('added-success-message');
        notification.textContent = `✅ ¡${productName} añadido!`;
        
        // Insertamos el mensaje justo debajo del botón o dentro de la tarjeta
        cardElement.appendChild(notification);
        
        // Eliminamos la notificación después de 2 segundos
        setTimeout(() => {
            notification.remove();
        }, 2000); 

        // Opción 2: Resaltar temporalmente la burbuja del carrito (más discreto, requiere CSS)
        const cartBubble = document.querySelector('.cart-bubble');
        cartBubble.classList.add('flash-cart'); 
        setTimeout(() => {
            cartBubble.classList.remove('flash-cart');
        }, 500);
    }

    // 2. Función para añadir un producto
    function addToCart(name, price, cardElement) {
        const item = {
            name: name,
            price: price,
            units: 1 
        };

        cart.push(item);
        saveCart();

        // Muestra la notificación temporal
        showNotification(name, cardElement);
        
        // Actualiza el contador
        updateCartCount();
    }

    // 3. Asignar el evento al botón
    document.addEventListener('DOMContentLoaded', () => {
        // Asignar listeners a todos los botones 'Añadir al carrito'
        document.querySelectorAll('.add-to-cart').forEach(button => {
            button.addEventListener('click', (e) => {
                const card = e.target.closest('.product-card');
                const name = card.querySelector('.product-name').textContent;
                // Asumiendo que el precio está en el formato "XX,XX €"
                const priceText = card.querySelector('.product-price').textContent.replace(' €', '').replace(',', '.');
                const price = parseFloat(priceText);
                
                addToCart(name, price, card); // Pasamos la tarjeta para saber dónde poner la notificación
            });
        });

        // Hacemos que la burbuja del carrito navegue a la página de checkout
        document.querySelector('.cart-bubble').addEventListener('click', () => {
            window.location.href = 'checkout.html';
        });
        
        // Inicializar el contador al cargar la página
        updateCartCount();
    });
</script>
<header class="site-header">
    <a href="index.html" class="logo-link">
        <img src="logo.svg" alt="Logo" class="logo">
    </a>

    <nav class="nav-container">
        <a href="productos.html">Productos</a>
        <a href="contacto.html">Contacto</a>
        <a href="quienes-somos.html">Quiénes somos</a>
        <a href="preguntas-frecuentes.html">FAQ</a>
    </nav>

    <div class="cart-bubble">
        <img src="Carrito.svg" alt="Carrito">
        <span>Carrito</span>
    </div>
</header>

<main>
    <section class="faq-section">
        <h2>FAQ</h2>

        <div class="faq-list" id="faqAccordion">
            
            <details class="faq-item">
                <summary class="faq-question">¿Cómo debo cuidar vuestra ropa?</summary>
                <div class="faq-answer">
                    <p>Recomendamos lavar nuestras prendas a 30ºC y del revés, de esta forma evitamos que el diseño se deteriore por las altas temperaturas. Además, es preferible evitar el uso de la secadora y la plancha. ¡Siempre sera mejor el secado al aire libre!</p>
                </div>
            </details>

            <details class="faq-item">
                <summary class="faq-question">¿Qué materiales utilizáis en vuestras camisetas?</summary>
                <div class="faq-answer">
                    <p>Nos gusta vestir cómodo, así que para nosotros el algodón 100% es la mejor opcción. <br>Además, buscamos algodón producido de forma responsable, en nuestro caso bajo el certificado de Trust Protocol. En cuanto a la impresión siempre estará detallada en el producto.</p>
                </div>
            </details>
            
            <details class="faq-item">
                <summary class="faq-question">¿A qué lugares hacéis envíos?</summary>
                <div class="faq-answer">
                    <p>Actualmente realizamos envíos a toda la Península Ibérica (España y Portugal) y las Islas Baleares. Todavía no llegamos a las Islas Canarias, ¡pero estamos trabajando en ello!<br>Aún así, si eres de alguna zona a la que no realicemos envíos, siempre puedes ponerte en contacto con nosotros a través de nuestro formulario de contacto.</p>
                </div>
            </details>

            <details class="faq-item">
                <summary class="faq-question">¿Existe alguna tienda física donde comprar vuestros productos?</summary>
                <div class="faq-answer">
                    <p>De momento no disponemos de ningún local o tienda física, pero siempre buscamos participar en ferias, mercados artesanales o eventos.<br>¡Es importante que nos sigas en nuestras redes sociales para enterarte de todos los lugares en los que nos encontrarás!</p>
                </div>
            </details>

        </div>
    </section>
</main>

<footer>
    <div class="footer-container">
        <div class="footer-links-grid">
            <div class="col-legal">
                <a href="politica-privacidad.html">Política de privacidad</a>
                <a href="aviso-legal.html">Aviso legal</a>
                <a href="devoluciones-reenvio.html">Devoluciones y reenvío</a>
            </div>
            <div class="col-ayuda">
                <a href="contacto.html">Contacto</a>
                <a href="quienes-somos.html">Quiénes somos</a>
                <a href="preguntas-frecuentes.html">Preguntas frecuentes</a>
            </div>
        </div>
        <div class="footer-right">
            <div class="newsletter">
                <p>¿Odias perderte cosas?</p>
                <p>Novedades, secretos y descuentos. Cero <i>spam</i>, prometido.</p>
                <input type="email" placeholder="Tu correo">
                <button>Enviar</button>
            </div>
            <div class="instagram">
                <img src="instagram.svg" alt="Instagram">
                <a href="https://www.instagram.com/thenullstore/" target="_blank">Síguenos</a>
            </div>
        </div>
    </div>
    <div class="discover">DISCOVER THE VOID</div>
</footer>

<script>
    const accordion = document.getElementById('faqAccordion');
    accordion.addEventListener('click', (e) => {
        // Solo actúa si se hace clic en el elemento <summary>
        if (e.target.tagName === 'SUMMARY') {
            const currentItem = e.target.closest('details');
            
            // Cierra todos los elementos <details> excepto el actual
            accordion.querySelectorAll('details').forEach(item => {
                if (item !== currentItem) {
                    item.removeAttribute('open');
                }
            });
        }
    });
</script>
<script>
    document.addEventListener('DOMContentLoaded', () => {
        const popup = document.getElementById('cookie-popup');
        const acceptBtn = document.getElementById('accept-cookies-btn');

        // 1. Verificar si el usuario ya aceptó las cookies
        const consentGiven = localStorage.getItem('cookies_accepted');

        if (!consentGiven) {
            // 2. Si NO ha aceptado, mostramos el popup
            popup.style.display = 'flex';
        }

        // 3. Agregar el listener al botón para aceptar
        acceptBtn.addEventListener('click', () => {
            // Guardar la preferencia en el navegador
            localStorage.setItem('cookies_accepted', 'true');
            // Ocultar el popup
            popup.style.display = 'none';
        });
    });
</script>
<div id="cookie-popup" class="cookie-consent-bar">
    <p>Utilizamos cookies propias y de terceros para mejorar tu experiencia de navegación. Al continuar, aceptas el uso de <a href="politica-cookies.html" target="_blank" class="cookie-link">cookies</a>.</p>
    <button id="accept-cookies-btn" class="cookie-accept-btn">Aceptar y Continuar</button>
</div>
</body>
</html>